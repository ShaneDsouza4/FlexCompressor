const mongoose = require("mongoose");

/* const ticketSchema = new mongoose.Schema({
    ticketID:{
        type: String,
    },
    state:{
        type: String
    },
    priority:{
        type: String
    },
    assigned_to:{
        type: String
    },
    content:{
        type: String
    }
}, {timestamps: true}) */

const ticketSchema = new mongoose.Schema({
    data: {
      type: Buffer,
      required: true
    },
    compressor:{
        type:String,
        required: true
    },
    originalSize:{
        type: Number,
        required: true
    },
    compressedSize:{
        type: Number,
        required: true
    },
    compressionRatio: {
        type: Number,
        required: true
    },
    createdAt: {
      type: Date,
      default: Date.now
    },
    updatedAt: {
      type: Date,
      default: Date.now
    }
});

ticketSchema.pre('save', function(next) {
    this.updatedAt = Date.now();
    next();
});

//Model
const TICKET = mongoose.model('ticket', ticketSchema);

//Exports
module.exports = TICKET;